#!/usr/bin/env node
const fs = require('fs')
const path = require('path')
const moment = require('moment')

const command = process.argv[2]
const value = process.argv[3]

const YAMLFrontMatter = `---
title: 
description: 
tags: []
date: !!str ${moment().format('YYYY-MM-DD')}
---`

if (command === 'create') {
  const articlePath = path.join(__dirname, '../articles')
  if (!fs.existsSync(articlePath)) {
    fs.mkdirSync(articlePath)
  }
  const filename = path.join(__dirname, `../articles/${value}.md`)
  fs.writeFileSync(filename, YAMLFrontMatter)
} else if (command === 'build') {
  require('../scripts/generate')
}
